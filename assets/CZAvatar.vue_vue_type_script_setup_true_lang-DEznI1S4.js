var h=(n,e,s)=>new Promise((a,l)=>{var o=c=>{try{m(s.next(c))}catch(u){l(u)}},i=c=>{try{m(s.throw(c))}catch(u){l(u)}},m=c=>c.done?a(c.value):Promise.resolve(c.value).then(o,i);m((s=s.apply(n,e)).next())});import{c as M,e as k}from"./entry/index-C2yXXbfE-1713597257644.js";import{V as S,r as y,d as b,f as d,h as B,Z as I,_ as A,k as f,a8 as g,m as p,A as _,u as t,$ as r,q as x,a1 as E,a0 as v,F as D,R as j,o as Z,a7 as z}from"./vue-bWmcvXqU.js";import{g as F}from"./getUsernameClass-C8lIHKPN.js";import{$ as T,Z as V}from"./antd-D-XvgdAE.js";const C=S("app-userModal",()=>({state:y({isShowingUserModal:!1,showUserInfo:{},hasInstance:!1})})),w="/assets/default-avatar-BWUMT8x9.png",U="/assets/default-bg-DrvEO-rK.jpg",$={class:"container w-80vw h-60vh sm:w-3xl sm:h-4xl bg-white rounded-lg absolute flex flex-col items-center z-9999 m-auto inset-0"},N=["src"],R=["src"],q={class:"text-[14px] text-center mt-[10px] max-w-[40rem] line-height-snug"},G={class:"text-[14px] text-center mt-[10px]"},K={class:"mt-auto mb-3"},O=b({__name:"index",setup(n){const{state:e}=C();let s=d(w),a=d(U);function l(){e.isShowingUserModal=!1,setTimeout(()=>{s.value=w,a.value=U},100)}return d({}),B(()=>h(this,null,function*(){e.isShowingUserModal;const o=document.createElement("img");o.src=e.showUserInfo.avatar,o.onload=function(){s.value=e.showUserInfo.avatar};const i=document.createElement("img");i.src=e.showUserInfo.background,i.onload=function(){a.value=e.showUserInfo.background}})),(o,i)=>(I(),A(D,null,[f(x,{name:"cover"},{default:g(()=>[p(r("div",{class:"cover w-[100vw] h-[100vh] bg-black/50 fixed top-0 left-0 z-5000",onClick:l},null,512),[[_,t(e).isShowingUserModal]])]),_:1}),f(x,null,{default:g(()=>[p(r("div",$,[r("img",{src:t(a),alt:"用户背景图",class:"h-[10rem] w-[100%] sm:h-[15rem] rounded-t-lg object-cover"},null,8,N),r("img",{src:t(s),alt:"用户头像",class:"w-[5rem] h-[5rem] sm:w-[8rem] sm:h-[8rem] rounded-full flex items-center justify-center object-cover mt-[-2.5rem] sm:mt-[-4rem] border-2 border-solid border-gray-300 brightness-105"},null,8,R),r("div",{class:E(["text-3xl text-center mt-[20px]",t(F)(t(e).showUserInfo.role)])},v(t(e).showUserInfo.username),3),r("div",q,v(t(e).showUserInfo.description||"用户很懒，没有个人签名~"),1),r("div",G,v(t(e).showUserInfo.email),1),r("div",K,[f(t(T),{class:"mr-2 text-2xl"})])],512),[[_,t(e).isShowingUserModal]])]),_:1})],64))}}),W=M(O,[["__scopeId","data-v-533a6055"]]);function H(n){let{state:e}=C();if(!e.hasInstance){const s=j(W),a=document.createElement("div");document.body.appendChild(a),s.mount(a),e.hasInstance=!0}e.showUserInfo=n,e.isShowingUserModal=!0}const Y=b({name:"CZAvatar",__name:"CZAvatar",props:{userId:{}},setup(n){const e=n;let s=d({avatar:""}),a=d(w);function l(){H(s.value)}return Z(()=>h(this,null,function*(){s.value=yield k(e.userId);const o=document.createElement("img");o.src=s.value.avatar,o.onload=function(){a.value=s.value.avatar}})),(o,i)=>(I(),z(t(V),{src:t(a),onClick:l,class:"ml-1 cursor-pointer border-1 border-solid border-gray-300 w-[2rem] h-[2rem] hover:scale-110 transition-all animate-ease-in-out"},null,8,["src"]))}});export{Y as _,H as s};
