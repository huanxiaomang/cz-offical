var f=(e,m,t)=>new Promise((u,i)=>{var d=a=>{try{r(t.next(a))}catch(n){i(n)}},l=a=>{try{r(t.throw(a))}catch(n){i(n)}},r=a=>a.done?u(a.value):Promise.resolve(a.value).then(d,l);r((t=t.apply(e,m)).next())});import{aj as v,ax as g,u as C,c as I}from"./entry/index-C2yXXbfE-1713597257644.js";import{C as b}from"./index-dO_cmMaH.js";import{_ as S}from"./BasicForm.vue_vue_type_script_setup_true_lang-BNQd6an3.js";import"./BasicForm.vue_vue_type_style_index_0_lang-CNnsnwdM.js";import"./componentMap-Cj-lLNJH.js";import{u as x}from"./useForm-Cjv2vJne.js";import{a as A}from"./account-A4ZyWM-E.js";import{u as w}from"./upload-DQW9X77w.js";import{h as B}from"./header-OZa5fSDc.js";import{b as k}from"./data-BXO4Vyiq.js";import{d as U,o as V,c as y,a9 as M,Z as N,a7 as R,a8 as p,k as s,u as o,$ as h,G as F,a2 as G,a3 as T}from"./vue-bWmcvXqU.js";import{al as $,ak as _}from"./antd-D-XvgdAE.js";import"./index-BYrC6i03.js";import"./useWindowSizeFn-rAoW7C_Y.js";import"./base64Conver-bBv-IO2K.js";import"./FormItem.vue_vue_type_script_lang-vprfBRCQ.js";import"./helper-C-421fQw.js";import"./useFormItem-CdGm24qm.js";import"./RadioButtonGroup.vue_vue_type_script_setup_true_lang-BedSGtka.js";import"./uuid-D0SLUWHI.js";import"./useSortable-BlxcSOdV.js";import"./download-Ch55mUgf.js";import"./index-usPsqJ6A.js";import"./IconPicker.vue_vue_type_script_setup_true_lang-BVLlAX3L.js";import"./copyTextToClipboard-BXKLw-Hi.js";import"./index-BT-ASklH.js";const j=e=>(G("data-v-0212af03"),e=e(),T(),e),E={class:"change-avatar"},P=j(()=>h("div",{class:"mb-2"},"头像",-1)),W=U({__name:"BaseSetting",setup(e){const{createMessage:m}=C(),t=v(),[u,{setFieldsValue:i}]=x({labelWidth:120,schemas:k,showActionButtonGroup:!1});V(()=>f(this,null,function*(){const a=yield A();i(a)}));const d=y(()=>{const{avatar:a}=t.getUserInfo;return a||B});function l({src:a,data:n}){const c=t.getUserInfo;c.avatar=a,t.setUserInfo(c)}function r(){m.success("更新成功！")}return(a,n)=>{const c=M("a-button");return N(),R(o(g),{title:"基本设置",canExpand:!1},{default:p(()=>[s(o($),{gutter:24},{default:p(()=>[s(o(_),{span:14},{default:p(()=>[s(o(S),{onRegister:o(u)},null,8,["onRegister"])]),_:1}),s(o(_),{span:10},{default:p(()=>[h("div",E,[P,s(o(b),{uploadApi:o(w),value:d.value,btnText:"更换头像",btnProps:{preIcon:"ant-design:cloud-upload-outlined"},onChange:l,width:"150"},null,8,["uploadApi","value"])])]),_:1})]),_:1}),s(c,{type:"primary",onClick:r},{default:p(()=>[F(" 更新基本信息 ")]),_:1})]),_:1})}}}),_a=I(W,[["__scopeId","data-v-0212af03"]]);export{_a as default};
