import{_ as P}from"./CurrentPermissionMode.vue_vue_type_script_setup_true_lang-B4GCMUX6.js";import{aB as U,aj as k,c as g}from"./entry/index-C2yXXbfE-1713597257644.js";import{R as s}from"./roleEnum-DZpq-cKb.js";import{A as p}from"./index-CtCW_-2d.js";import{P as B}from"./index-DmvVZzf-.js";import{d as C,c as E,a9 as h,n as D,Z as l,a7 as u,a8 as t,k as o,$ as d,G as a,a0 as f,u as e,ab as _,m as S}from"./vue-bWmcvXqU.js";import{az as N,aT as V,af as T}from"./antd-D-XvgdAE.js";import"./useContentViewHeight-ByP0kkZI.js";import"./useWindowSizeFn-rAoW7C_Y.js";import"./onMountedOrActivated-C5rGMWQz.js";const $={class:"mt-4"},b=C({__name:"Btn",setup(w){const{changeRole:y,hasPermission:n}=U(),i=k(),v=E(()=>i.getRoleList.includes(s.SUPER)),x=E(()=>i.getRoleList.includes(s.TEST));return(A,c)=>{const r=h("a-button"),m=D("auth");return l(),u(e(B),{title:"前端权限按钮示例",contentBackground:"",contentClass:"p-4",content:"由于刷新的时候会请求用户信息接口，会根据接口重置角色信息，所以刷新后界面会恢复原样，如果不需要，可以注释 src/layout/default/index内的获取用户信息接口"},{default:t(()=>[o(P),d("p",null,[a(" 当前角色: "),d("a",null,f(e(i).getRoleList),1)]),o(e(N),{class:"mt-4",type:"info",message:"点击后请查看按钮变化","show-icon":""}),d("div",$,[a(" 权限切换(请先切换权限模式为前端角色权限模式): "),o(e(V),null,{default:t(()=>[o(r,{onClick:c[0]||(c[0]=R=>e(y)(e(s).SUPER)),type:v.value?"primary":"default"},{default:t(()=>[a(f(e(s).SUPER),1)]),_:1},8,["type"]),o(r,{onClick:c[1]||(c[1]=R=>e(y)(e(s).TEST)),type:x.value?"primary":"default"},{default:t(()=>[a(f(e(s).TEST),1)]),_:1},8,["type"])]),_:1})]),o(e(T),null,{default:t(()=>[a("组件方式判断权限(有需要可以自行全局注册)")]),_:1}),o(e(p),{value:e(s).SUPER},{default:t(()=>[o(r,{type:"primary",class:"mx-4"},{default:t(()=>[a(" 拥有super角色权限可见 ")]),_:1})]),_:1},8,["value"]),o(e(p),{value:e(s).TEST},{default:t(()=>[o(r,{color:"success",class:"mx-4"},{default:t(()=>[a(" 拥有test角色权限可见 ")]),_:1})]),_:1},8,["value"]),o(e(p),{value:[e(s).TEST,e(s).SUPER]},{default:t(()=>[o(r,{color:"error",class:"mx-4"},{default:t(()=>[a(" 拥有[test,super]角色权限可见 ")]),_:1})]),_:1},8,["value"]),o(e(T),null,{default:t(()=>[a("函数方式方式判断权限(适用于函数内部过滤)")]),_:1}),e(n)(e(s).SUPER)?(l(),u(r,{key:0,type:"primary",class:"mx-4"},{default:t(()=>[a(" 拥有super角色权限可见 ")]),_:1})):_("",!0),e(n)(e(s).TEST)?(l(),u(r,{key:1,color:"success",class:"mx-4"},{default:t(()=>[a(" 拥有test角色权限可见 ")]),_:1})):_("",!0),e(n)([e(s).TEST,e(s).SUPER])?(l(),u(r,{key:2,color:"error",class:"mx-4"},{default:t(()=>[a(" 拥有[test,super]角色权限可见 ")]),_:1})):_("",!0),o(e(T),null,{default:t(()=>[a("指令方式方式判断权限(该方式不能动态修改权限.)")]),_:1}),S((l(),u(r,{type:"primary",class:"mx-4"},{default:t(()=>[a(" 拥有super角色权限可见 ")]),_:1})),[[m,e(s).SUPER]]),S((l(),u(r,{color:"success",class:"mx-4"},{default:t(()=>[a(" 拥有test角色权限可见 ")]),_:1})),[[m,e(s).TEST]]),S((l(),u(r,{color:"error",class:"mx-4"},{default:t(()=>[a(" 拥有[test,super]角色权限可见 ")]),_:1})),[[m,[e(s).TEST,e(s).SUPER]]])]),_:1})}}}),J=g(b,[["__scopeId","data-v-ed2ea188"]]);export{J as default};
