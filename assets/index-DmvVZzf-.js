var Y=Object.defineProperty,ee=Object.defineProperties;var te=Object.getOwnPropertyDescriptors;var V=Object.getOwnPropertySymbols;var oe=Object.prototype.hasOwnProperty,ne=Object.prototype.propertyIsEnumerable;var D=(a,e,o)=>e in a?Y(a,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):a[e]=o,E=(a,e)=>{for(var o in e||(e={}))oe.call(e,o)&&D(a,o,e[o]);if(V)for(var o of V(e))ne.call(e,o)&&D(a,o,e[o]);return a},M=(a,e)=>ee(a,te(e));var K=(a,e,o)=>new Promise((r,m)=>{var $=c=>{try{h(o.next(c))}catch(v){m(v)}},k=c=>{try{h(o.throw(c))}catch(v){m(v)}},h=c=>c.done?r(c.value):Promise.resolve(c.value).then($,k);h((o=o.apply(a,e)).next())});import{k as L,o as ae,c as se,as as re,q as d,at as ie,ap as O}from"./entry/index-C2yXXbfE-1713597257644.js";import{d as U,Z as T,_ as N,$ as j,ae as F,a1 as x,u as f,ag as X,f as w,y as I,w as J,H as ce,K as le,ah as ue,p as fe,c as H,a7 as Z,ad as ge,aa as de,a8 as W,aj as he,ak as pe,F as me,G as He,a0 as ye,ac as be,ab as q}from"./vue-bWmcvXqU.js";import{a as Fe}from"./useContentViewHeight-ByP0kkZI.js";import{l as ke,an as ve,o as G,ao as Ce}from"./antd-D-XvgdAE.js";import{o as Se}from"./onMountedOrActivated-C5rGMWQz.js";import{u as $e}from"./useWindowSizeFn-rAoW7C_Y.js";const Pe=U({name:"PageFooter",inheritAttrs:!1,__name:"PageFooter",setup(a){const{prefixCls:e}=L("page-footer"),{getCalcContentWidth:o}=ae();return(r,m)=>(T(),N("div",{class:x(f(e)),style:X({width:f(o)})},[j("div",{class:x(`${f(e)}__left`)},[F(r.$slots,"left",{},void 0,!0)],2),F(r.$slots,"default",{},void 0,!0),j("div",{class:x(`${f(e)}__right`)},[F(r.$slots,"right",{},void 0,!0)],2)],6))}}),Q=se(Pe,[["__scopeId","data-v-beb63bc8"]]);function Re(a,e,o,r,m=0,$=w(0)){const k=w(null),{footerHeightRef:h}=Fe();let c={useLayoutFooter:!0};const v=i=>{c=i};function z(){I(()=>{R()})}function C(i,_="all"){var b,S,n,p;function y(t){return Number(t.replace(/[^\d]/g,""))}let u=0;const g="0px";if(i){const t=getComputedStyle(i),s=y((b=t==null?void 0:t.marginTop)!=null?b:g),l=y((S=t==null?void 0:t.marginBottom)!=null?S:g),B=y((n=t==null?void 0:t.paddingTop)!=null?n:g),A=y((p=t==null?void 0:t.paddingBottom)!=null?p:g);_==="all"?(u+=s,u+=l,u+=B,u+=A):_==="top"?(u+=s,u+=B):(u+=l,u+=A)}return u}function P(i){return i==null?null:i instanceof HTMLDivElement?i:i.$el}function R(){return K(this,null,function*(){var p;if(!a.value)return;yield I();const i=P(f(e));if(!i)return;const{bottomIncludeBody:_}=re(i);let y=0;o.forEach(t=>{var s,l;y+=(l=(s=P(f(t)))==null?void 0:s.offsetHeight)!=null?l:0});let u=(p=C(i))!=null?p:0;r.forEach(t=>{u+=C(P(f(t)))});let g=0;function b(t,s){if(t&&s){const l=t.parentElement;l&&(ke(s)?l.classList.contains(s)?g+=C(l,"bottom"):(g+=C(l,"bottom"),b(l,s)):ve(s)&&s>0&&(g+=C(l,"bottom"),b(l,--s)))}}ce(m)?b(i,f(m)):b(i,m);let S=_-f(h)-f($)-y-u-g;const n=()=>{var t;(t=c.elements)==null||t.forEach(s=>{var l,B;S+=(B=(l=P(f(s)))==null?void 0:l.offsetHeight)!=null?B:0})};c.useLayoutFooter&&f(h)>0,n(),k.value=S})}return Se(()=>{I(()=>{R()})}),$e(()=>{R()},{wait:50,immediate:!0}),J(()=>[h.value],()=>{R()},{flush:"post",immediate:!0}),{redoHeight:z,setCompensation:v,contentHeight:k}}const _e=U({name:"PageWrapper",inheritAttrs:!1,__name:"PageWrapper",props:{title:d.string,dense:d.bool,ghost:d.bool,headerSticky:d.bool,headerStyle:Object,content:d.string,contentStyle:{type:Object},contentBackground:d.bool,contentFullHeight:d.bool.def(!1),contentClass:d.string,fixedHeight:d.bool,upwardSpace:d.oneOfType([d.number,d.string]).def(0)},setup(a){const e=a,o=le(),r=ue(),m=w(null),$=w(null),k=w(null),h=w(null),{prefixCls:c}=L("page-wrapper");fe(ie,H(()=>e.fixedHeight));const v=H(()=>e.contentFullHeight),z=H(()=>e.upwardSpace),{redoHeight:C,setCompensation:P,contentHeight:R}=Re(v,m,[$,h],[k],z);P({useLayoutFooter:!0,elements:[h]});const i=H(()=>{var n;return[c,{[`${c}--dense`]:e.dense},(n=o.class)!=null?n:{}]}),_=H(()=>{const{headerSticky:n}=e;return n?E({position:"sticky",top:0,zIndex:99},e.headerStyle):{}}),y=H(()=>e.content||(r==null?void 0:r.headerContent)||e.title||g.value.length),u=H(()=>(r==null?void 0:r.leftFooter)||(r==null?void 0:r.rightFooter)),g=H(()=>Object.keys(G(r,"default","leftFooter","rightFooter","headerContent"))),b=H(()=>{const{contentFullHeight:n,contentStyle:p,fixedHeight:t}=e;if(!n)return E({},p);const s=`${f(R)}px`;return E(M(E({},p),{minHeight:s}),t?{height:s}:{})}),S=H(()=>{const{contentBackground:n,contentClass:p}=e;return[`${c}-content`,p,{[`${c}-content-bg`]:n}]});return J(()=>[u.value],()=>{C()},{flush:"post",immediate:!0}),(n,p)=>(T(),N("div",{class:x(i.value),ref_key:"wrapperRef",ref:m},[y.value?(T(),Z(f(Ce),be({key:0,ghost:a.ghost,title:a.title},f(G)(n.$attrs,"class"),{style:_.value,ref_key:"headerRef",ref:$}),ge({default:W(()=>[a.content?(T(),N(me,{key:0},[He(ye(a.content),1)],64)):F(n.$slots,"headerContent",{key:1})]),_:2},[de(g.value,t=>({name:t,fn:W(s=>[F(n.$slots,t,he(pe(s||{})))])}))]),1040,["ghost","title","style"])):q("",!0),j("div",{class:x(["overflow-hidden",S.value]),style:X(b.value),ref_key:"contentRef",ref:k},[F(n.$slots,"default")],6),u.value?(T(),Z(Q,{key:1,ref_key:"footerRef",ref:h},{left:W(()=>[F(n.$slots,"leftFooter")]),right:W(()=>[F(n.$slots,"rightFooter")]),_:3},512)):q("",!0)],2))}});O(Q);const Ie=O(_e);export{Ie as P};
